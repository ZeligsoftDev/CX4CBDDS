�REM�*
 * Copyright 2018 ADLINK Technology Limited.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 *�ENDREM�
�IMPORT uml�
�IMPORT Standard�
�IMPORT ZML�
�IMPORT SCADomain�

�EXTENSION codegen::regions�
�EXTENSION extensions::MainSCADescriptorXtendFile�
�EXTENSION extensions::SCAPropertyUtils�
�EXTENSION extensions::CounterFactoryToString�
�EXTENSION extensions::CodeGeneratorUtil�

�EXTENSION com::zeligsoft::base::zdl::util::ZDLUtil�

�DEFINE create FOR SCADomain::CPPClass�

�FILE "classes"+"/"+this.name+".h" -�

#ifndef �this.name�_H
#define �this.name�_H

class �this.name� { 

	�REM�Operations�ENDREM�
	public:
	// Operations
	�EXPAND generateOperation(this) FOREACH this.ownedOperation.typeSelect(SCADomain::CPPOperation).select(e|e.visibility == uml::VisibilityKind::public)�	
	protected:
	// Operations
	�EXPAND generateOperation(this) FOREACH this.ownedOperation.typeSelect(SCADomain::CPPOperation).select(e|e.visibility == uml::VisibilityKind::protected)�
	private:
	// Operations
	�EXPAND generateOperation(this) FOREACH this.ownedOperation.typeSelect(SCADomain::CPPOperation).select(e|e.visibility == uml::VisibilityKind::private)�
	
	�REM�Attributes�ENDREM�
	public:	
	// Attributes
	�EXPAND generateAttribute FOREACH this.ownedAttribute.typeSelect(SCADomain::CPPAttribute).select(e|e.visibility == uml::VisibilityKind::public)�	
	protected:
	// Attributes
	�EXPAND generateAttribute FOREACH this.ownedAttribute.typeSelect(SCADomain::CPPAttribute).select(e|e.visibility == uml::VisibilityKind::protected)�
	private:
	// Attributes
	�EXPAND generateAttribute FOREACH this.ownedAttribute.typeSelect(SCADomain::CPPAttribute).select(e|e.visibility == uml::VisibilityKind::private)�	

};
#endif    

�ENDFILE -�
�ENDDEFINE�


�REM� Generate static and instance operations �ENDREM�
�DEFINE generateOperation(SCADomain::CPPClass owner) FOR SCADomain::CPPOperation�
	�IF this.getType() == null�
		�IF this.name == owner.name� 							�REM� Constructor �ENDREM�
			�this.name��getParameters(this)�;	
		�ELSEIF this.name == "~" + owner.name� 					�REM� Destructor �ENDREM�
			virtual �this.name��getParameters(this)�;	
		�ELSE�				
			�IF this.isStatic�	
				static void �this.name��getParameters(this)�;	�REM� static void Operation �ENDREM�
			�ELSE�									
				void �this.name��getParameters(this)�;			�REM� void Operation �ENDREM�
			�ENDIF�
		�ENDIF�
	�ELSE�
		�IF this.isStatic�	
			static �this.getType().name� �this.name��getParameters(this)�;	�REM� static Operation �ENDREM�
		�ELSE�									
			�this.getType().name� �this.name��getParameters(this)�;			�REM� Operation �ENDREM�
		�ENDIF�
	�ENDIF�	
�ENDDEFINE�


�REM� Generate static and instance attributes �ENDREM�
�DEFINE generateAttribute FOR SCADomain::CPPAttribute�
	�IF this.type == null�				�REM� Compiler error will occur here �ENDREM�
		�IF this.isStatic�
			static �this.name�;
		�ELSE�
			�this.name�;
		�ENDIF�									
	�ELSE�
		�IF this.isStatic�
			static �getAttributeType(this)� �this.name�;
		�ELSE�
			�getAttributeType(this)� �this.name�;
		�ENDIF�
	�ENDIF�	
�ENDDEFINE�

