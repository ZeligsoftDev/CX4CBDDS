<head>
	<title>Tutorial 2: Developing the Model</title>
	<link rel="stylesheet" type="text/css" href="../helpStyle.css">
</head>
<html>
	<body outputFile="tutorial_2.html" title="Tutorial 2: Developing the Model">
		<h1>Tutorial 2: Developing the Model</h1>
		<p>This tutorial builds on the elements you created and lessons learned in <a href="tutorial1.html">Tutorial 1: Learning the Basics</a>.</p>
		<p>In this tutorial you will complete some more advanced procedures that will teach you about:</p>
		<ul>
			<li>validation</li>
			<li>property types</li>
			<li>definitions, implementations, and instances</li>
			<li>freestanding ports</li>
		</ul>
		<h2>Open the project and model</h2>
		<p>In <a href="tutorial1.html">Tutorial 1: Learning the Basics</a> you created the base elements of your model. You created:</p>
		<ul>
			<li>IDL</li>
			<li>port types</li>
			<li>ports</li>
			<li>components and their associated elements</li>
			<li>an application</li>
			<li>connectors</li>
			<li>defined SCA and UML properties</li>
		</ul>
		<p>In the <strong>Project Explorer</strong> expand the CXTutorial project and CX Tutorial model you created in <a href="tutorial1.html">Tutorial 1: Learning the Basics</a>.</p>
		<h2>Run CX Validation</h2>
		<p>The validation process ensures that all SCA requirements are being met in your model, elements, or application.</p>
		<p>To validate the TutorialApplication, do the following:</p>
		<ol>
			<li>In the <strong>Project Explorer</strong>, select <strong>TutorialApplication</strong>. Right-click and from the pop-up menu, select <strong>SCA Validation</strong>.</li><br>The validation process will run and any errors, warnings, or informational messages are displayed in the Problems View.<br>Four errors are returned by the validation process.</ol>
		<p>The following errors are returned (and will be fixed later):</p>
		<ul>
			<li>TutorialApplication property controller is required but has no value.</li>
			<ul>
				<li>This error is related to not having defined an assembly controller.</li>
			</ul>
			<li>DecryptorImpl requires at least one os, processor, property dependency or resource dependency.</li>
			<ul>
				<li>This error indicates that further modeling is required on the DecryptorImpl element.</li>
			</ul>
			<li>FilterImplImpl requires at least one os, processor, property dependency or resource dependency.</li>
			<ul>
				<li>This error indicates that further modeling is required on the FilterImpl element.</li>
			</ul>
		</ul>
		<p>In addition to the these four errors, produced by the model validation process, the following error can also be seen. This error can be ignored. CX is looking for a makefile to build source. Because we have not generated source and its makefiles this error appears.</p>
		<ul>
			<li>no rule to make target 'all'</li>
		</ul>
		<h2>Create an assembly controller</h2>
		<p>One of the errors returned by validation indicated that an assembly controller is missing. The SCA requires that an assembly controller be identified. 
Any component instance in your model can be the assembly controller. To resolve this error, you will create a new component and then designate it
as the assembly controller.</p>
		<ol>
			<li>In the <strong>Project Explorer</strong>, select the <strong>TutorialApplication</strong> package that you created in Tutorial 1.</li>
			<li>Right-click on the element and select <strong>Add CX</strong> &gt; <strong>Component</strong>.</li>
			<li>In the Component Wizard, name the component <strong>AssemblyController</strong> and in the <strong>Type</strong>
drop-down list, select <strong>Resource</strong>. </li>
			<li>Click <strong>Finish</strong>.</li>
			<li>Open the <strong>AssemblyController</strong> diagram and add two uses ports to the component interface.
The ports should be of type <strong>&lt;&lt;PortType&gt;&gt; ResourceInv</strong> and be named <strong>decryptCtrl</strong> and 
<strong>filterCtrl</strong>. In the <strong>Properties View SCA Tab</strong> set the <strong>kind</strong> to <strong>Control</strong> on both ports.</li>
			<li>In the <strong>Project Explorer</strong>, open the <strong>ApplicationDiagram</strong> diagram.</li>
			<li>In the <strong>Project Explorer</strong>, select <strong>AssemblyController</strong> structural realization
 and drag it onto <strong>TutorialApplication</strong>.</li>
			<li>In the <strong>Palette</strong>, select the <strong>Connector</strong> and connect the <strong>AssemblyController</strong> ports
				 to the <strong>decryptor</strong> and <strong>filter</strong>. Note these connections should be made directly to the components, not their ports. Leave the connection names empty. </li>
			<li>With the <strong>TutorialApplication</strong> selected, click the <strong>SCA</strong> tab in the <strong>Properties View</strong>.</li>
			<li>In the <strong>controller</strong> field, click the edit button.</li>
			<li>Choose the <strong>assemblyController</strong> part which is part of TutorialApplication, and click <strong>OK</strong>. </li>
			<p>This identifies the component as the assembly controller for the application.</p>
		</ol>
		<h2>Run validation</h2>
		<p>To ensure that the error regarding the assembly controller, discovered in the earlier validation process, are fixed, validate the 
TutorialApplication again. You should now see the following errors (which will be fixed later):</p>
		<ul>
			<li>AssemblyControllerImpl requires at least one os, processor, property dependency or resource dependency.</li>
			<li>DecryptorImpl requires at least one os, processor, property dependency or resource dependency.</li>
			<li>FilterImplImpl requires at least one os, processor, property dependency or resource dependency.</li>
			<li>no rule to make target 'all'</li>
		</ul>
		<h2>Property type creation</h2>
		<p>Property types are essentially elements that can be re-used multiple times. Property types are used to define the elements in your model. 
There are a number of property types:</p>
		<ul>
			<li>Enumeration Property Type</li>
			<li>Primitive Property Type</li>
			<li>Struct Property Type </li>
			<li>Struct Sequence Property Type</li>
			<li>Test Property Type</li>
		</ul>
		<p>In the SCA, a property has a name and this property has the potential to be re-used across multiple devices and/or components. 
		For example, MAX_THROUGHPUT or DECRYPT_KEY can be created and make the re-use of properties simpler and more convenient.</p>
		<ol>
			<li>In the <strong>Project Explorer</strong>, right-click your <strong>CXTutorial_Model</strong> model and select <strong>Add CX</strong> &gt; <strong>Package</strong>.</li>
			<li>Name the package <strong>SCAProperties</strong>.</li>
			<li>Right-click <strong>SCAProperties</strong> and select <strong>Add Diagram</strong> &gt; <strong>CX Component Diagram</strong>.</li>
			<li>Name the diagram <strong>SCAPropertiesDiagram</strong>.</li>
			<li>In the <strong>Palette</strong>, expand the <strong>SCA Application</strong> drawer.</li>
			<li>In the <strong>Property Types</strong> drop-down list, select <strong>Primitive Property Type</strong>.</li>
			<li>Drop this element onto the CX Component Diagram.</li>
			<li>Name the property <strong>Key</strong>.</li>
			<li>In the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab.</li>
			<li>Set the following attributes: </li>
			<ul>
				<li>Action: External</li>
				<li>Kind: Configure And Exec</li>
				<li>Type: String</li>
			</ul>
			<li>Save the model.</li>
		</ol>
		<p>This property is now available to be applied to model elements.</p>
		<h2>User-defined SCA property creation</h2>
		<p>Each component interface, component, instance or implementation can have several properties. Properties are used to provide
extra information about the element they are associated with.</p>
		<ol>
			<li>In the <strong>Project Explorer</strong>, open the <strong>Decryptor</strong> diagram. This is the diagram you created earlier with Component Wizard.</li>
			<li>In the <strong>CX Component Diagram</strong>, select the <strong>Decryptor</strong>.</li>
			<li>Right-click on <strong>Decryptor</strong> and from the pop-up menu, select <strong>Add CX</strong> &gt; <strong>SCA Property</strong>.</li>
			<li>Name the attribute <strong>DECRYPT_KEY</strong>.</li>
			<li>Select the <strong>DECRYPT_KEY</strong> attribute and in the <strong>Properties View</strong> &gt; <strong>SCA</strong>
 tab.</li>
			<li>Click the <strong>Select Type</strong> button and choose the <strong>Key</strong> primitive property you created earlier.</li>
			<li>Set the <strong>Value</strong> to <strong>abc123</strong>.</li>
		</ol>
		<h2>Components and Devices: Definitions, Implementations, and Instances</h2>
		<p>A component or device's definition is its external interfaces and ports. A component or device's monolithic implementation is an 
implementation of the component's definition. This is usually associated with source code or an executable. Instances of either a 
component or device definition are added to an application or node. All definitions used must have at least one implementation.</p>
		<p>Each definition needs one or more implementations.</p>
		<h2>Define monolithic implementation dependencies</h2>
		<p>The operating system and processor dependencies define which operating environment the component implementation needs to run or be loaded in.</p>
		<ol>
			<li>In <strong>CXTutorial_Model</strong>, create a package named <strong>SCADependencies</strong>, add a 
<strong>CX Component Diagram</strong> and name it <strong>Dependencies</strong>. Open this diagram.</li>
			<li>In the <strong>Palette</strong>, expand the <strong>SCA Application</strong> drawer.</li>
			<li>Select <strong>Operating System</strong> and drop this onto the <strong>Dependencies</strong> diagram.
 Name this element <strong>Linux</strong>.</li>
			<li>In the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab and set the <strong>Version</strong> to <strong>2.6</strong>. The Version should match the os_version
			allocation property set on the device to which this component will be deployed.</li>
			<li>In the <strong>Palette</strong> select <strong>Processor</strong> and drop this onto the diagram. Name the element <strong>x86</strong>.</li>
		</ol>
		<p>For each Component in your model, do the following:</p>
		<ol>
			<li>Open the component's associated <strong>CX Component Diagram</strong>.</li>
			<li>Drag the <strong>Linux</strong> and <strong>x86</strong> elements from the <strong>SCADependencies</strong> package onto the diagram.</li>
			<li>In the <strong>Palette</strong>, select <strong>OS Link</strong> and connect the <strong>implementation</strong> to <strong>Linux</strong>. </li>
			<li>In the <strong>Palette</strong>, select <strong>Processor Link</strong> and connect the <strong>implementation</strong> to <strong>x86</strong>. </li>
		</ol>
		<h2>Create a DeviceThatLoadedThisComponentRef (DTLTCR) Freestanding Port</h2>
		<p>A freestanding port (FSP) models how to find a port or a service during run-time. A supports interface, uses or 
provides port can be designated as a freestanding port.</p>
		<ol>
			<li>In the <strong>Project Explorer</strong>, open the <strong>ApplicationDiagram</strong> diagram. </li>
			<li>In the <strong>Palette</strong>, expand the <strong>SCA Application</strong> drawer. </li>
			<li>Select <strong>FSP Device That Loaded</strong> and drop this element onto the <strong>application structure</strong>.</li>
			<li>Select <strong>Existing Element</strong> and search for the <strong>Port Type (EncryptedData)</strong> you created in Tutorial 1.</li>
			<li>Select <strong>&lt;&lt;PortType&gt;&gt; EncryptedDataInv</strong> and click <strong>OK</strong>. </li>
			<li>Name the port <strong>dataSource</strong>.</li>
			<li>Select the <strong>FSP</strong> and in the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab.</li>
			<li>Set the <strong>part</strong> property  to <strong>decryptor</strong> in the TutorialApplication.</li>
			<li>Set the <strong>Findby Port Name</strong> property to <strong>dataSource</strong>. This is the name of the port to connect to on the platform.</li>
			<li>In the <strong>Palette</strong>, select the <strong>Connector</strong> and connect the <strong>decryptor's dataIn port</strong>
 to the <strong>dataSource FSP</strong>.</li>
			<li>Right-click on the <strong>dataSource FSP</strong> and select <strong>Add Note</strong>. 
Type: <strong>DTLTCR for Device That Loaded This Component Ref</strong>. Resize and move the note as necessary.</li>
		</ol>
		<h2>Validate the Tutorial Application</h2>
		<p>Select the TutorialApplication and validate again. The application should validate with no errors. Validating the application, also validates other components and elements that are used in the definition of the application. </p>
		<h2>Tutorial Summary</h2>
		<p>In this tutorial you built on the model and elements you defined in Tutorial 1: Learning the Basics.</p>
		<p>You saw how the CX validation process works, learned how to find and fix errors in your application, learned about elements such as: assembly controllers, property types, 
implementation artifacts, and freestanding ports.</p>
		<p>The following images illustrate what your application and model should look like in Spectra CX:</p>
		<p><img src="../images/tutorial2_application.gif" border="0" alt="TutorialApplication"></p>
		<p><img src="../images/tutorial2_pe.gif" border="0" alt="Project Explorer"></p>
		<p>In Tutorial 3: Platform Development, you will learn about: </p>
		<ul>
			<li>device</li>
			<li>allocation properties</li>
			<li>nodes</li>
			<li>device and domain manager</li>
		</ul>
		<div class="runningfooter" id="dochomefooter"><a href="http://www.prismtech.com/contact" shape="rect" target="_blank">Provide feedback</a><br clear="none"><hr>  
			Copyright <sup>©</sup> 2010 Zeligsoft Ltd. All rights reserved.
			
		</div>
	</body>
</html>