<head>
	<title>Tutorial 4: Finalizing the Model</title>
	<link rel="stylesheet" type="text/css" href="../helpStyle.css">
</head>
<html>
	<body outputFile="tutorial4.html" title="Tutorial 4: Finalizing the Model">
		<h1>Tutorial 4: Finalizing the Model</h1>
		<p>In this tutorial, you will complete the final phase of modeling, you will:</p>
		<ul>
			<li>learn about dependencies</li>
			<li>create findBy freestanding ports</li>
			<li>validate the entire model</li>
		</ul>
		<p>This tutorial assumes you have completed <a href="tutorial1.html">Tutorial 1</a>, <a href="tutorial_2.html">Tutorial 2</a>, and <a href="tutorial_3.html">Tutorial 3</a>.</p>
		<h2>Open the project and model</h2>
		<p>In <a href="tutorial_3.html">Tutorial 3</a> you created the following elements:</p>
		<ul>
			<li>devices</li>
			<li>defined SCA properties</li>
			<li>Core Framework elements</li>
			<li>node and platform</li>
		</ul>
		<p>In the <strong>Project Explorer</strong> expand the project and model you defined in <a href="tutorial_3.html">Tutorial 3</a>.</p>
		<h2>Add a PropertyReference Dependency</h2>
		<p>A property reference dependency expresses a need from an implementation to an allocation property. To be defined correctly, the property 
must be an allocation property.</p>
		<ol>
			<li>Open the <strong>CXTutorial_Model::TutorialApplication::Filter::Filter</strong> diagram.</li>
			<li>In <strong>Project Explorer</strong> expand the <strong>SCAProperties</strong> package.</li>
			<li>Drag the <strong>KIPS SCA Primitive property</strong> onto the <strong>Filter</strong> diagram.</li>
			<li>In the <strong>Palette</strong>, expand the <strong>SCA Application</strong> drawer and select <strong>Property Dependency</strong>.</li>
			<li>Using the <strong>Property Dependency</strong>, draw a link from <strong>Filter_Impl</strong> to <strong>KIPS</strong>. Name the link 
<strong>needsKIPS</strong>.</li>
			<li>Select <strong>needsKIPS</strong> and in the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab.
Set the value to 5 for this element. </li>
			<li>Validate the <strong>Filter</strong> package and correct any errors.</li>
			<li>Save the model. </li>
		</ol>
		<h2>Add a Software Package Reference Dependency</h2>
		<p>A software package reference dependency specifies a dependency to a Software Package (SPD). This element is typically used for 
libraries needed by components.</p>
		<p>The first step is to create the SoftPkg component:</p>
		<ol>
			<li>In the <strong>Project Explorer</strong>, select the <strong>TutorialApplication</strong> package and create a package 
named <strong>CryptoLibImpl</strong>.</li>
			<li>Right click on <strong>CryptoLib</strong> and add a <strong>Component Diagram</strong> named <strong>CryptoLib</strong>.</li>
			<li>In the <strong>Palette</strong>, select <strong>Library</strong> and drop this element onto <strong>CryptoLib</strong>. 
Name the element <strong>CryptoLib</strong>.</li>
			<li>With <strong>CryptoLib</strong> selected, in the <strong>Properties View</strong> &gt; <strong>SCA</strong> 
tab and uncheck the <strong>SCA Compliant</strong> property.</li>
			<li>In the <strong>Palette</strong>, select <strong>Implementation Artifact</strong> and drop this element onto the diagram. 
Name this element <strong>CryptoLibImpl</strong>. </li>
			<li>Select <strong>CryptoLibImpl</strong> and in the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab.
 Set <strong>Code &gt; File</strong> to <strong>cryptolib.so</strong> and <strong>Type</strong> to <strong>Shared Library</strong>.</li>
			<li>Use the <strong>Palette</strong> to draw a <strong>Component Implementation</strong> link from the <strong>CryptoLibImpl</strong>
 implementation to the <strong>CryptoLib</strong> component.</li>
			<li>From <strong>Project Explorer</strong> open the <strong>SCADependencies</strong> package, and add <strong>Linux</strong> and <strong>x86</strong>
 to the <strong>CryptoLib</strong> diagram.</li>
			<li>From the <strong>Palette</strong>, add <strong>OS</strong> and <strong>Processor</strong> links from <strong>CryptoLibImpl</strong>
 to <strong>Linux</strong> and <strong>x86</strong>.</li>
			<li>Validate the <strong>CryptoLib</strong> package and correct any errors.</li>
			<li>Save the model.</li>
		</ol>
		<p>The next step is to add a Resource Dependency:</p>
		<ol>
			<li>Open the <strong>Decryptor</strong> diagram.</li>
			<li>From the <strong>Project Explorer</strong> drag the <strong>CryptoLib structure realization</strong> onto <strong>Decryptor</strong>.</li>
			<li>From the <strong>SCA Application</strong> of the <strong>Palette</strong> drawer, select <strong>Resource Dependency</strong>
 and draw a link from the <strong>Decryptor_Impl</strong> to the <strong>CryptoLib</strong> library component. Name the link <strong>needsLibrary</strong>.</li>
			<li>In the <strong>Properties View</strong> with the <strong>Resource Dependency</strong> selected, select the <strong>SCA</strong> tab
and set the <strong>implementation</strong> property for the dependency to <strong>CryptoLibImpl</strong>. 
This allows you to specify the exact implementation of the library to be used. If this property is not defined, the Core Framework will select an
library implementation.</li>
			<li>Validate the <strong>Decryptor</strong> package and correct any errors.</li>
			<li>Save the model.</li>
		</ol>
		<h2>Uses Devices and Uses Devices Dependencies</h2>
		<p>The uses device relationship describes the requirement of something from a device. It shows that a component needs the device. This 
relationship can be used to configure connections. In this relationship, the source is a component or device definition or implementation and the 
target is an allocation property on a device definition or implementation. Additionally, a uses device can depend on more than 
one allocation property.</p>
		<ol>
			<li>Open the <strong>CXTutorial_Model::TutorialApplication::Decryptor::Decryptor</strong> diagram.</li>
			<li>In the <strong>Palette</strong>, expand the <strong>SCA Application</strong> drawer and select <strong>UsesDevice</strong>.
Drop this onto the <strong>Decryptor</strong> diagram and name the element <strong>RequiredThroughput</strong>.</li>
			<li>Select <strong>RequiredThroughput</strong> and in the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab.
Set <strong>type</strong> to <strong>Throughput</strong>.</li>
			<li>From <strong>SCA Application</strong> drawer, select <strong>UsesDevice Dependency</strong> and draw a link from the <strong>Decryptor</strong>
 component to the <strong>RequiredThroughput</strong> element. Name this element <strong>UsesThroughput</strong>.</li>
			<li>In <strong>Project Explorer</strong> expand the <strong>SCAProperties</strong> package. Drag the <strong>SCA Primitive property Throughput</strong>
 onto the <strong>Decryptor</strong> diagram.</li>
			<li>In the <strong>Palette</strong> select <strong>Property Dependency</strong> and draw a link from <strong>RequiredThroughput</strong> to the 
<strong>Throughput</strong> property. The label on this link is not used so you may delete it.</li>
			<li>Select the <strong>Property Dependency</strong> and in the <strong>Properties View</strong> &gt; <strong>SCA</strong> tab
 and set the <strong>value</strong> to <strong>10</strong>.</li>
			<li>Validate the <strong>Decryptor</strong> package and correct any errors.</li>
			<li>Save the model. </li>
		</ol>
		<h2>Validate the model</h2>
		<p>We will run validation here to catch any errors that may have been introduced during modeling.</p>
		<ol>
			<li>In the <strong>Project Explorer</strong> select the top-level model element: <strong>CXTutorial_Model</strong>.</li>
			<li>Right-click and select <strong>SCA Validation</strong>.</li>
			<li>Fix any errors that are returned.</li>
			<li>Save your model.</li>
		</ol>
		<h2>Tutorial summary</h2>
		<p>In this tutorial you completed the final steps of modeling. Your application and model are fully-defined and ready for the next phase of COE - implementing.</p>
		<div class="runningfooter" id="dochomefooter"><a href="http://www.prismtech.com/contact" shape="rect" target="_blank">Provide feedback</a><br clear="none"><hr>  
			Copyright <sup>©</sup> 2010 Zeligsoft Ltd. All rights reserved.
			
		</div>
	</body>
</html>