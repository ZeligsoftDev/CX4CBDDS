<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>

<!--
 Copyright 2018 ADLINK Technology Limited.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<plugin>
   
   <extension
         point="org.eclipse.emf.ecore.uri_mapping">
      <mapping
            source="pathmap://ZELIGSOFT_DEPLOYMENT/"
            target="platform:/plugin/com.zeligsoft.base.deployment.rsm.tooling/profiles/">
      </mapping>
      <mapping
            source="pathmap://ZELIGSOFT_DEPLOYMENT_LIBRARIES/"
            target="platform:/plugin/com.zeligsoft.base.deployment.rsm.tooling/models/">
      </mapping>
   </extension>
   
   <extension
         id="ZeligsoftDeployment UMLProfiles"
         name="ZeligsoftDeployment UMLProfiles"
         point="com.ibm.xtools.uml.msl.UMLProfiles">
      <UMLProfile
            id="com.zeligsoft.base.deployment.rsm.tooling.ZeligsoftDeployment"
            name="ZeligsoftDeployment"
            path="pathmap://ZELIGSOFT_DEPLOYMENT/ZeligsoftDeployment.profile.uml"
            required="false"
            visible="true">
      </UMLProfile>
   </extension>
   
   <extension
         id="ZeligsoftDeployment UMLLibraries"
         name="ZeligsoftDeployment UMLLibraries"
         point="com.ibm.xtools.uml.msl.UMLLibraries">
      <UMLLibrary
            id="com.zeligsoft.base.deployment.rsm.tooling.ZeligsoftDeployment"
            name="ZeligsoftDeployment"
            path="pathmap://ZELIGSOFT_DEPLOYMENT_LIBRARIES/Deployment.uml"
            required="false"
            visible="true">
      </UMLLibrary>
   </extension>

   <extension
         point="com.zeligsoft.base.zdl.domain_models">
      <domainModel
            uri="http://www.zeligsoft.com/zdl/2008/Deployment"
            path="pathmap://ZELIGSOFT_DEPLOYMENT_LIBRARIES/Deployment.uml"
            genModel="pathmap://ZELIGSOFT_DEPLOYMENT_LIBRARIES/Deployment.zdlgen">
      </domainModel>
   </extension>

   <extension
         id="ZeligsoftDeployment ElementTypes"
         name="ZeligsoftDeployment ElementTypes"
         point="org.eclipse.gmf.runtime.emf.type.core.elementTypes">

      <metamodel
             nsURI="http://www.eclipse.org/uml2/2.1.0/UML">
         <specializationType
               id="com.zeligsoft.base.deployment.rsm.tooling.DeploymentPartProperty"
               icon="icons/full/obj16/DeploymentPart.gif"
               name="%_UI_ElementType__DeploymentPart__Property_name"
               edithelperadvice="com.zeligsoft.base.deployment.rsm.tooling.edithelpers.DeploymentPartPropertyEditHelperAdvice"
               kind="com.ibm.xtools.uml.type.IStereotypedElementType">
            <param
                  name="stereotype"
                  value="ZeligsoftDeployment::DeploymentPart"/>
            <specializes id="com.ibm.xtools.uml.property"/>
            <matcher class="com.zeligsoft.base.deployment.rsm.tooling.types.DeploymentPartPropertyMatcher"/>
         </specializationType>
      </metamodel>
      <metamodel
             nsURI="http://www.eclipse.org/uml2/2.1.0/UML">
         <specializationType
               id="com.zeligsoft.base.deployment.rsm.tooling.AllocationDependency"
               icon="icons/full/obj16/Allocation.gif"
               name="%_UI_ElementType__Allocation__Dependency_name"
               edithelperadvice="com.zeligsoft.base.deployment.rsm.tooling.edithelpers.AllocationDependencyEditHelperAdvice"
               kind="com.ibm.xtools.uml.type.IStereotypedElementType">
            <param
                  name="stereotype"
                  value="ZeligsoftDeployment::Allocation"/>
            <specializes id="com.ibm.xtools.uml.dependency"/>
            <matcher class="com.zeligsoft.base.deployment.rsm.tooling.types.AllocationDependencyMatcher"/>
         </specializationType>
      </metamodel>
      <metamodel
             nsURI="http://www.eclipse.org/uml2/2.1.0/UML">
         <specializationType
               id="com.zeligsoft.base.deployment.rsm.tooling.DeploymentComponent"
               icon="icons/full/obj16/Deployment.gif"
               name="%_UI_ElementType__Deployment__Component_name"
               edithelperadvice="com.zeligsoft.base.deployment.rsm.tooling.edithelpers.DeploymentComponentEditHelperAdvice"
               kind="com.ibm.xtools.uml.type.IStereotypedElementType">
            <param
                  name="stereotype"
                  value="ZeligsoftDeployment::Deployment"/>
            <specializes id="com.ibm.xtools.uml.component"/>
            <matcher class="com.zeligsoft.base.deployment.rsm.tooling.types.DeploymentPartPropertyMatcher"/>
         </specializationType>
      </metamodel>
      <metamodel
             nsURI="http://www.eclipse.org/uml2/2.1.0/UML">
         <specializationType
               id="com.zeligsoft.base.deployment.rsm.tooling.ComponentDeploymentPartProperty"
               icon="icons/full/obj16/ComponentDeploymentPart.gif"
               name="%_UI_ElementType__ComponentDeploymentPart__Property_name"
               edithelperadvice="com.zeligsoft.base.deployment.rsm.tooling.edithelpers.ComponentDeploymentPartPropertyEditHelperAdvice"
               kind="com.ibm.xtools.uml.type.IStereotypedElementType">
            <param
                  name="stereotype"
                  value="ZeligsoftDeployment::ComponentDeploymentPart"/>
            <specializes id="com.zeligsoft.base.deployment.rsm.tooling.DeploymentPartProperty"/>
            <matcher class="com.zeligsoft.base.deployment.rsm.tooling.types.ComponentDeploymentPartPropertyMatcher"/>
         </specializationType>
      </metamodel>
      <metamodel
             nsURI="http://www.eclipse.org/uml2/2.1.0/UML">
         <adviceBinding
            id="com.zeligsoft.base.deployment.rsm.tooling.applyProfileAdvice"
            typeId="com.ibm.xtools.uml.package"
            class="com.zeligsoft.base.deployment.rsm.tooling.edithelpers.ZeligsoftDeploymentApplyProfileAdvice"
            inheritance="all">
         </adviceBinding>
      </metamodel>
   </extension>
    
   <extension
         id="ZeligsoftDeployment ElementTypeBindings"
         name="ZeligsoftDeployment ElementTypeBindings"
         point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings">
      <binding context="com.ibm.xtools.uml.type.context">
         <elementType ref="com.zeligsoft.base.deployment.rsm.tooling.DeploymentPartProperty"/>
         <elementType ref="com.zeligsoft.base.deployment.rsm.tooling.AllocationDependency"/>
         <elementType ref="com.zeligsoft.base.deployment.rsm.tooling.DeploymentComponent"/>
         <elementType ref="com.zeligsoft.base.deployment.rsm.tooling.ComponentDeploymentPartProperty"/>
         <advice ref="com.zeligsoft.base.deployment.rsm.tooling.applyProfileAdvice"/>
      </binding>
   </extension>

   <extension
         id="ZeligsoftDeployment ContributionItemProvider"
         name="ZeligsoftDeployment ContributionItemProvider"
         point="org.eclipse.gmf.runtime.common.ui.services.action.contributionItemProviders">
      <contributionItemProvider
            class="com.zeligsoft.base.deployment.rsm.tooling.providers.ZeligsoftDeploymentContributionItemProvider"
            checkPluginLoaded="false">
         <Priority
               name="Medium">
         </Priority>
         <popupContribution
               class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria
                  objectClass="org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart">
               <method
                     name="getDiagramEditDomain().getEditorPart().getSite().getId()"
                     value="ModelerDiagramEditor">
               </method>
            </popupStructuredContributionCriteria>
            <popupMenu
                  path="/umlAddGroup"
                  id="Add_Zeligsoft_Deployment">
            </popupMenu>
            <popupMenuGroup
                  path="/Add_Zeligsoft_Deployment/"
                  id="Zeligsoft Deployment">
            </popupMenuGroup>
            <popupAction
                  path="/Add_Zeligsoft_Deployment/Zeligsoft Deployment"
                  id="Deployment_Part">
            </popupAction>
            <popupAction
                  path="/Add_Zeligsoft_Deployment/Zeligsoft Deployment"
                  id="Component_Deployment_Part">
            </popupAction>
         </popupContribution>
      </contributionItemProvider>
   </extension>

   <extension
         id="ZeligsoftDeployment PaletteProviders"
         name="ZeligsoftDeployment PaletteProviders"
         point="org.eclipse.gmf.runtime.diagram.ui.paletteProviders">
      <paletteProvider class="com.zeligsoft.base.deployment.rsm.tooling.palette.ZeligsoftDeploymentPaletteProvider">
         <Priority name="Medium"/>
         <editor id="ModelerDiagramEditor"/>
         <content>
            <method
                  name="getDiagram().getType()"
                  value="Zeligsoft Deployment"/>
         </content>
      </paletteProvider>
   </extension>
   
   <extension
         id="ZeligsoftDeployment ViewProviders"
         name="ZeligsoftDeployment ViewProviders"
         point="org.eclipse.gmf.runtime.diagram.core.viewProviders">
      <viewProvider class="com.zeligsoft.base.deployment.rsm.tooling.providers.ZeligsoftDeploymentViewProvider">
         <Priority name="Medium"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Edge"/>
      </viewProvider>
   </extension>

   <extension
         id="ZeligsoftDeployment EditpartProviders"
         name="ZeligsoftDeployment EditpartProviders"
         point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders">
      <editpartProvider class="com.zeligsoft.base.deployment.rsm.tooling.providers.ZeligsoftDeploymentEditPartProvider">
         <Priority name="Medium"/>
      </editpartProvider>
   </extension>   

   <extension
         id="ZeligsoftDeployment ModelingAssistantProviders"
         name="ZeligsoftDeployment ModelingAssistantProviders"
         point="org.eclipse.gmf.runtime.emf.ui.modelingAssistantProviders">
      <modelingAssistantProvider class="com.zeligsoft.base.deployment.rsm.tooling.providers.ZeligsoftDeploymentModelingAssistant">
         <Priority name="Medium"/>
      </modelingAssistantProvider>
   </extension>

   <extension
         id="ZeligsoftDeployment Activities"
         name="ZeligsoftDeployment Activities"
         point="org.eclipse.ui.activities">
      <category
            id="com.zeligsoft.base.deployment.rsm.tooling.activities.category"
            name="%_UI_ActivityCategoryName">
      </category>
   </extension>
   <extension
         id="ZeligsoftDeployment EditingCapabilities"
         name="ZeligsoftDeployment EditingCapabilities"
         point="com.ibm.xtools.common.ui.reduction.editingCapabilities">
      <activity
            match="equals"
            ref="com.zeligsoft.base.deployment.rsm.tooling.uireduction.activity">
      </activity>
   </extension>

   <extension
         id="ZeligsoftDeployment Activities"
         name="ZeligsoftDeployment Activities"
         point="org.eclipse.ui.activities">
      <activity
            id="com.zeligsoft.base.deployment.rsm.tooling.uireduction.activity"
            name="%_UI_Activity_uiReduction_name"
            description="%_UI_Activity_uiReduction_description">
      </activity>
      <activityPatternBinding
            activityId="com.zeligsoft.base.deployment.rsm.tooling.uireduction.activity"
            pattern="com\.zeligsoft\.base\.deployment\.rsm\.tooling/.*[^com.zeligsoft.base.deployment.rsm.tooling.core.templates.ZeligsoftDeploymentModel].*">
      </activityPatternBinding>
      <activityRequirementBinding
            activityId="com.zeligsoft.base.deployment.rsm.tooling.uireduction.activity"
            requiredActivityId="com.zeligsoft.base.deployment.rsm.tooling.core.activity">
      </activityRequirementBinding>
      <categoryActivityBinding
            activityId="com.zeligsoft.base.deployment.rsm.tooling.uireduction.activity"
            categoryId="com.zeligsoft.base.deployment.rsm.tooling.activities.category">
      </categoryActivityBinding>
   </extension>

   <extension
         id="ZeligsoftDeployment Activities"
         name="ZeligsoftDeployment Activities"
         point="org.eclipse.ui.activities">
      <activity
            id="com.zeligsoft.base.deployment.rsm.tooling.core.activity"
            name="%_UI_Activity_template_name"
            description="%_UI_Activity_template_description">
      </activity>
      <activityPatternBinding
            activityId="com.zeligsoft.base.deployment.rsm.tooling.core.activity"
            pattern="com\.zeligsoft\.base\.deployment\.rsm\.tooling/com\.zeligsoft\.base\.deployment\.rsm\.tooling\.core\.templates\.ZeligsoftDeploymentModel">
      </activityPatternBinding>
      <categoryActivityBinding
            activityId="com.zeligsoft.base.deployment.rsm.tooling.core.activity"
            categoryId="com.zeligsoft.base.deployment.rsm.tooling.activities.category">
      </categoryActivityBinding>
   </extension>
<!--
   <extension
         id="ZeligsoftDeployment NewModelWizard"
         name="ZeligsoftDeployment NewModelWizard"
         point="com.ibm.xtools.common.ui.wizards.newModelWizard">
      <templateDirectory
            path="templates"
            handler="com.zeligsoft.base.deployment.rsm.tooling.wizards.ZeligsoftDeploymentTemplateModelHandler">
      </templateDirectory>
      <category
            id="com.zeligsoft.base.deployment.rsm.tooling.core.category"
            label="%_UI_NewModelWizard_CategoryName">
      </category>
      <templateCategoryBinding
            categoryRef="com.zeligsoft.base.deployment.rsm.tooling.core.category">
         <template
               match="equals"
               ref="com.zeligsoft.base.deployment.rsm.tooling.core.templates.ZeligsoftDeploymentModel">
         </template>
      </templateCategoryBinding>
      <activityTemplateBinding
            required="true">
         <template
               match="equals"
               ref="com.zeligsoft.base.deployment.rsm.tooling.core.templates.ZeligsoftDeploymentModel">
         </template>
         <activity
               match="equals"
               ref="com.zeligsoft.base.deployment.rsm.tooling.uireduction.activity">
         </activity>
      </activityTemplateBinding>
      <templateConfigurationPageGroup
            afterRef=".*"
            afterMatch="pattern"
            class="com.ibm.xtools.common.ui.wizards.pagegroups.ActivitiesTemplateConfigurationPageGroup"
            id="com.zeligsoft.base.deployment.rsm.tooling.wizards.pagegroups.ActivitiesTemplateConfigurationPageGroup">
         <template
               ref="com.zeligsoft.base.deployment.rsm.tooling.core.templates.ZeligsoftDeploymentModel"
               match="equals"/>
      </templateConfigurationPageGroup>
   </extension>
   -->
  
   <extension
         id="base.deployment.navigator.viewer.ID"
         point="org.eclipse.ui.navigator.viewer">         		
	  <viewerContentBinding
        viewerId="org.eclipse.ui.navigator.ProjectExplorer">
	     <includes>
	        <contentExtension
              pattern="com.zeligsoft.base.deployment.rsm.tooling.filters.*">
	        </contentExtension>
	     </includes>
	  </viewerContentBinding>			
   </extension>   
   <extension
         id="base.deployment.navigatorContent.ID"
         name="name"
         point="org.eclipse.ui.navigator.navigatorContent">
	    <commonFilter
          activeByDefault="true"
          class="com.zeligsoft.base.deployment.rsm.tooling.filters.DeploymentViewerFilter"
          description="%DeploymentViewerFilter.description"
          id="com.zeligsoft.base.deployment.rsm.tooling.filters.deploymentPart"
          name="%DeploymentViewerFilter.name">       
	    </commonFilter>
   </extension>  
  
</plugin>
